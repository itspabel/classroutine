<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ক্লাস রুটিন জেনারেটর</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for Bengali -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siluri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Dynamic Print Style -->
    <style id="print-style-sheet"></style>
    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
        }
        [contenteditable="true"] {
            cursor: text;
            padding: 4px 6px;
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        [contenteditable="true"]:hover {
            background-color: #f7fafc;
            box-shadow: 0 0 0 1px #e2e8f0;
        }
        [contenteditable="true"]:focus {
            background-color: #f0f9ff;
            outline: 2px solid #3b82f6;
        }
        
        /* GENERAL PRINT STYLES */
        @media print {
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
                font-size: 9.5pt;
                line-height: 1.2;
            }
            .no-print { display: none !important; }
            .page-container {
                display: flex;
                flex-direction: column;
                height: 100%;
                padding: 0.6cm !important;
                box-shadow: none !important;
                border-radius: 0 !important;
            }
             .main-content {
                flex-grow: 1; /* This is the key change */
            }
            header, section, footer {
                margin: 0 !important;
                padding: 0 !important;
            }
            h1, h2, h3, h4, p {
                margin: 0 0 3px 0 !important;
                padding: 0 !important;
            }
            h1 { font-size: 16pt !important; }
            h2 { font-size: 12pt !important; }
            h3, h4 { font-size: 11pt !important; }
            header { margin-bottom: 8px !important; flex-shrink: 0; }
            section + section { margin-top: 8px !important; }
            table, th, td {
                border: 1px solid #000 !important;
                padding: 1px 3px;
            }
            a { text-decoration: none; color: inherit; }
            [contenteditable="true"] {
                 box-shadow: none !important;
                 background-color: transparent !important;
            }
            footer { 
                flex-shrink: 0;
                margin-top: auto !important; 
                padding-top: 4px !important; 
                border-top: 1px solid #ccc !important;
                font-size: 8pt;
            }
        }
    </style>
</head>
<body class="bg-gray-100 p-4 sm:p-6 md:p-8">

    <div class="max-w-7xl mx-auto bg-white p-6 sm:p-8 rounded-2xl shadow-lg page-container">
        <!-- Header Section -->
        <header class="text-center mb-6">
            <h1 contenteditable="true" class="text-3xl sm:text-4xl font-bold text-indigo-700">হাতিয়া কলেজ</h1>
            <h2 contenteditable="true" class="text-xl sm:text-2xl font-semibold text-gray-800 mt-2">ক্লাস রুটিন ও শিক্ষক পরিচিতি</h2>
            <h3 contenteditable="true" class="text-lg sm:text-xl font-medium text-gray-600 mt-1">বিজ্ঞান বিভাগ</h3>
            <p class="text-md text-blue-600 mt-2">
                <span contenteditable="true">ওয়েবসাইট: </span>
                <a id="website-link" contenteditable="true" href="http://hdc.edu.bd" target="_blank" class="hover:underline">hdc.edu.bd</a>
            </p>
        </header>

        <!-- Main Content Wrapper -->
        <div class="main-content">
            <!-- Action Buttons -->
            <div class="flex flex-wrap justify-center gap-4 mb-6 no-print">
                <button onclick="printDocument('portrait')" class="bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 transition duration-300 shadow-md flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-file-earmark-portrait-fill mr-2" viewBox="0 0 16 16"><path d="M10.065.88A.5.5 0 0 0 9.5 1v10.518a.5.5 0 0 0 .565.493l1.898-.633a.5.5 0 0 0 .337-.472V1.41a.5.5 0 0 0-.235-.429L10.065.88zM7 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-1.5 5.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5z"/><path d="M4.146.146A.5.5 0 0 1 4.5 0h7a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-15a.5.5 0 0 1 .146-.354zM7 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/></svg>
                    Portrait প্রিন্ট
                </button>
                 <button onclick="printDocument('landscape')" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-printer-fill mr-2" viewBox="0 0 16 16"><path d="M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2H5zm5 8H6a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1z"/><path d="M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2V7zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"/></svg>
                    Landscape প্রিন্ট
                </button>
            </div>
            
            <!-- Class Routine Section -->
            <section>
                <h4 contenteditable="true" class="text-xl font-bold text-gray-800 mb-4 text-center">সাপ্তাহিক ক্লাস রুটিন</h4>
                <div class="overflow-x-auto">
                    <table id="routineTable" class="w-full border-collapse border border-gray-400 text-center text-sm">
                        <thead class="bg-gray-200">
                            <tr>
                                <th class="border border-gray-300 p-1 font-semibold align-top">বার</th>
                                <th class="border border-gray-300 p-1 font-semibold"><span contenteditable="true">১ম পিরিয়ড</span><br><span contenteditable="true" class="font-normal text-xs">(১০:০০-১০:৪০)</span></th>
                                <th class="border border-gray-300 p-1 font-semibold"><span contenteditable="true">২য় পিরিয়ড</span><br><span contenteditable="true" class="font-normal text-xs">(১০:৪০-১১:২০)</span></th>
                                <th class="border border-gray-300 p-1 font-semibold"><span contenteditable="true">৩য় পিরিয়ড</span><br><span contenteditable="true" class="font-normal text-xs">(১১:২০-১২:০০)</span></th>
                                <th class="border border-gray-300 p-1 font-semibold"><span contenteditable="true">৪র্থ পিরিয়ড</span><br><span contenteditable="true" class="font-normal text-xs">(১২:০০-১২:৪০)</span></th>
                                <th class="border border-gray-300 p-1 font-semibold"><span contenteditable="true">৫ম পিরিয়ড</span><br><span contenteditable="true" class="font-normal text-xs">(১২:৪০-০১:২০)</span></th>
                                <th class="border border-gray-300 p-1 font-semibold"><span contenteditable="true">৬ষ্ঠ পিরিয়ড</span><br><span contenteditable="true" class="font-normal text-xs">(০১:২০-০২:০০)</span></th>
                                <th class="border border-gray-300 p-1 font-semibold"><span contenteditable="true">৭ম পিরিয়ড</span><br><span contenteditable="true" class="font-normal text-xs">(০২:০০-০২:৪০)</span></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td contenteditable="true" class="border border-gray-300 p-1 font-medium bg-gray-50">রবিবার</td>
                                <td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" class="border border-gray-300 p-1 font-medium bg-gray-50">সোমবার</td>
                                <td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" class="border border-gray-300 p-1 font-medium bg-gray-50">মঙ্গলবার</td>
                                <td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" class="border border-gray-300 p-1 font-medium bg-gray-50">বুধবার</td>
                                <td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td>
                            </tr>
                            <tr>
                                <td contenteditable="true" class="border border-gray-300 p-1 font-medium bg-gray-50"> বৃহস্পতিবার</td>
                               <td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                 <!-- Routine Table Action Buttons -->
                <div class="mt-4 flex flex-wrap justify-center gap-4 no-print">
                    <button onclick="addRow('routineTable')" class="bg-green-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-green-700 transition duration-300 shadow-sm">সারি যোগ</button>
                    <button onclick="removeRow('routineTable')" class="bg-red-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-red-700 transition duration-300 shadow-sm">সারি মুছুন</button>
                    <button onclick="addColumn('routineTable')" class="bg-yellow-500 text-white font-semibold py-2 px-5 rounded-lg hover:bg-yellow-600 transition duration-300 shadow-sm">কলাম যোগ</button>
                     <button onclick="removeColumn('routineTable')" class="bg-red-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-red-700 transition duration-300 shadow-sm">কলাম মুছুন</button>
                </div>
            </section>
    
            <!-- Spacer -->
            <hr class="my-6 border-gray-300 no-print">
    
            <!-- Teacher List Section -->
            <section>
                <h4 contenteditable="true" class="text-xl font-bold text-gray-800 mb-4 text-center">শিক্ষকবৃন্দের নাম ও পরিচিতি</h4>
                 <div class="overflow-x-auto">
                    <table id="teacherTable" class="w-full border-collapse border border-gray-400 text-center text-sm">
                        <thead class="bg-gray-200">
                            <tr>
                                <th class="border border-gray-300 p-1 font-semibold">ক্রমিক নং</th>
                                <th contenteditable="true" class="border border-gray-300 p-1 font-semibold">শিক্ষকের নাম</th>
                                <th contenteditable="true" class="border border-gray-300 p-1 font-semibold">পদবি</th>
                                <th contenteditable="true" class="border border-gray-300 p-1 font-semibold">বিষয়</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 10 Teacher rows -->
                            <tr><td contenteditable="true" class="border border-gray-300">১</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">২</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">৩</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">৪</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">৫</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">৬</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">৭</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">৮</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">৯</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                            <tr><td contenteditable="true" class="border border-gray-300">১০</td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td><td contenteditable="true" class="border border-gray-300"></td></tr>
                        </tbody>
                    </table>
                </div>
                <!-- Teacher Table Action Button -->
                <div class="mt-4 flex justify-center gap-4 no-print">
                    <button onclick="addRow('teacherTable')" class="bg-green-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-green-700 transition duration-300 shadow-sm">শিক্ষক যোগ</button>
                    <button onclick="removeRow('teacherTable')" class="bg-red-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-red-700 transition duration-300 shadow-sm">শিক্ষক মুছুন</button>
                </div>
            </section>
        </div> <!-- End Main Content Wrapper -->

        <footer class="text-center mt-6 pt-4 border-t border-gray-200">
             <p class="text-sm text-gray-700">Copyright &copy; <span id="year"></span> Tasfiqul Alam Pabel. All Rights Reserved.</p>
        </footer>

    </div>

    <script>
        document.getElementById('year').textContent = new Date().getFullYear();

        // Update href attribute when website link is edited
        document.getElementById('website-link').addEventListener('blur', function() {
            let newUrl = this.innerText.trim();
            if (newUrl && !/^https?:\/\//i.test(newUrl)) {
                this.href = 'http://' + newUrl;
            } else if (newUrl) {
                this.href = newUrl;
            }
        });


        // Function to set print orientation and trigger print
        function printDocument(orientation) {
            const styleSheet = document.getElementById('print-style-sheet');
            let extraStyles = '';
            
            // Add specific styles for portrait mode to fit the wide routine table
            if (orientation === 'portrait') {
                extraStyles = `
                    @media print {
                        #routineTable { 
                            font-size: 8pt; 
                            line-height: 1.1;
                        }
                        #routineTable th, #routineTable td { 
                            padding: 1px 2px;
                        }
                    }
                `;
            }

            styleSheet.innerHTML = `
                @page { 
                    size: A4 ${orientation}; 
                    margin: 0; 
                }
                ${extraStyles}
            `;
            window.print();
        }

        // Function to add a new row
        function addRow(tableId) {
            const table = document.getElementById(tableId);
            const tbody = table.getElementsByTagName('tbody')[0];
            const newRow = tbody.insertRow(tbody.rows.length);
            const columnCount = table.getElementsByTagName('thead')[0].rows[0].cells.length;

            for (let i = 0; i < columnCount; i++) {
                let newCell = newRow.insertCell(i);
                newCell.classList.add('border', 'border-gray-300');
                newCell.setAttribute('contenteditable', 'true');
                
                if (tableId === 'routineTable' && i === 0) {
                     newCell.classList.add('p-1', 'font-medium', 'bg-gray-50');
                     newCell.textContent = 'নতুন দিন';
                } else if (tableId === 'teacherTable' && i === 0) {
                    newCell.textContent = tbody.rows.length;
                }
            }
        }
        
        // Function to remove the last row
        function removeRow(tableId) {
            const table = document.getElementById(tableId);
            const tbody = table.getElementsByTagName('tbody')[0];
            if (tbody.rows.length > 1) { // Keep at least one row
                tbody.deleteRow(-1);
            } else {
                alert('আপনি শেষ সারিটি মুছতে পারবেন না!');
            }
        }

        // Function to add a new column to the routine table
        function addColumn(tableId) {
            const table = document.getElementById(tableId);
            if (tableId !== 'routineTable') return;

            const headerRow = table.querySelector('thead tr');
            const newHeaderCell = document.createElement('th');
            
            const newPeriodNumber = headerRow.cells.length;
            const periodString = newPeriodNumber.toLocaleString('bn-BD');
            let suffix = "ম"; // Default
            if ([2, 3].includes(newPeriodNumber)) suffix = "য়";
            else if (newPeriodNumber === 4) suffix = "র্থ";
            
            newHeaderCell.innerHTML = `<span contenteditable="true">${periodString}${suffix} পিরিয়ড</span><br><span contenteditable="true" class="font-normal text-xs">(সময়)</span>`;
            newHeaderCell.classList.add('border', 'border-gray-300', 'p-1', 'font-semibold');
            headerRow.appendChild(newHeaderCell);

            table.querySelectorAll('tbody tr').forEach(row => {
                const newCell = document.createElement('td');
                newCell.setAttribute('contenteditable', 'true');
                newCell.classList.add('border', 'border-gray-300');
                row.appendChild(newCell);
            });
        }

        // Function to remove the last column from the routine table
        function removeColumn(tableId) {
             const table = document.getElementById(tableId);
             if (tableId !== 'routineTable') return;
             
             const headerRow = table.querySelector('thead tr');
             if(headerRow.cells.length <= 2) { 
                alert('আপনি শেষ পিরিয়ডটি মুছতে পারবেন না!');
                return;
             }

             table.querySelectorAll('tr').forEach(row => {
                row.deleteCell(-1);
             });
        }
    </script>

</body>
</html>

